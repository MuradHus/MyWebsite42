دليل شامل: استخدام Supabase لإدارة الصور والمحتوى
============================================

ما هو Supabase؟
---------------
Supabase هو بديل مفتوح المصدر لـ Firebase، يوفر لك:
- قاعدة بيانات (Database) لتخزين معلومات الصور والمقالات
- مخزن ملفات (Storage) لرفع الصور والملفات
- واجهة إدارة سهلة (Dashboard) لإضافة وتعديل المحتوى
- كل هذا مجاناً بدون بطاقة دفع!

المرحلة الأولى: إنشاء حساب ومشروع
-----------------------------------
1. اذهب إلى https://supabase.com
2. اضغط على "Start your project" ثم سجل دخولك عبر GitHub.
3. اضغط على "New project".
4. اختر اسماً للمشروع (مثلاً: mywebsite-db).
5. أنشئ كلمة مرور قوية للـ Database (احفظها في مكان آمن).
6. اختر منطقة الخادم الأقرب لك (مثلاً: Europe أو Asia).
7. اضغط "Create new project" وانتظر دقيقتين.

المرحلة الثانية: إعداد Storage (مخزن الصور)
-------------------------------------------
1. من القائمة الجانبية، اختر "Storage".
2. اضغط على "New bucket".
3. أدخل اسم الـ Bucket: "photos" (بدون مسافات).
4. اجعله Public (لكي تظهر الصور للجميع).
5. اضغط "Create bucket".

الآن لديك مساحة تخزين سحابية جاهزة!

المرحلة الثالثة: إنشاء جدول البيانات (Table)
--------------------------------------------
1. من القائمة الجانبية، اختر "Table Editor".
2. اضغط "Create a new table".
3. اسم الجدول: "photos".
4. أضف الأعمدة (Columns) التالية:
   
   | Column Name | Type         | Default           |
   |-------------|--------------|-------------------|
   | id          | int8         | (Primary Key)     |
   | created_at  | timestamptz  | now()             |
   | image_url   | text         | -                 |
   | category    | text         | -                 |
   | title       | text         | -                 |
   | description | text         | (optional)        |

5. اضغط "Save".

المرحلة الرابعة: رفع صورة تجريبية
----------------------------------
1. ارجع لـ "Storage" > اضغط على bucket "photos".
2. اضغط "Upload file" وارفع صورة من جهازك.
3. بعد الرفع، اضغط على اسم الصورة ثم "Get URL" > "Copy URL".
4. احفظ هذا الرابط مؤقتاً.

المرحلة الخامسة: إضافة بيانات الصورة في الجدول
----------------------------------------------
1. اذهب لـ "Table Editor" > اضغط على جدول "photos".
2. اضغط "Insert row".
3. املأ الحقول:
   - image_url: الصق رابط الصورة الذي نسخته
   - category: nature (أو أي قسم تريده)
   - title: منظر طبيعي
4. اضغط "Save".

المرحلة السادسة: الحصول على مفاتيح الربط (API Keys)
---------------------------------------------------
1. من القائمة الجانبية، اختر "Project Settings" (الترس).
2. اختر "API".
3. ستجد ثلاث معلومات مهمة:
   - Project URL
   - anon public (مفتاح عام)
   - service_role (مفتاح خاص - لا تشاركه أبداً!)

انسخ الـ Project URL والمفتاح العام (anon).

المرحلة السابعة: ربط Supabase بموقعك (الكود)
--------------------------------------------
سنقوم بإنشاء ملفين:

1. ملف الإعداد: js/supabase-config.js
   يحتوي على مفاتيح الاتصال.

2. ملف جلب الصور: js/photos-loader.js
   يقوم بجلب الصور من Supabase وعرضها تلقائياً.

(سأقوم بإنشاء هذه الملفات لك عند الجاهزية)

المرحلة الثامنة: كيف تضيف صوراً مستقبلاً؟ (بدون كود!)
---------------------------------------------------------
بمجرد إعداد النظام، لإضافة صور جديدة:

1. ادخل إلى لوحة تحكم Supabase من المتصفح (حتى من الهاتف).
2. اذهب لـ Storage > photos > Upload file.
3. ارفع الصورة واحصل على رابطها.
4. اذهب لـ Table Editor > photos > Insert row.
5. ضع الرابط والقسم والعنوان.
6. احفظ.

خلال ثوانٍ، ستظهر الصورة في موقعك تلقائياً!

المزايا النهائية:
------------------
✅ تحديث فوري بدون رفع كود على GitHub
✅ إدارة كاملة للصور والمقالات من لوحة تحكم
✅ إمكانية البحث والفلترة بسهولة
✅ مجاني تماماً (لحد 500 MB تخزين و 2 GB نقل بيانات شهرياً)

الخطوة التالية:
----------------
بعد إتمام المراحل السابقة، أخبرني لكي أقوم بكتابة الأكواد اللازمة 
وربط موقعك بـ Supabase بشكل كامل.

-----------------------------------------
إعداد: مساعدك المطور (Antigravity)
التاريخ: 26 يناير 2026
